import groupConstants from "../constants/groupConstants";

const initialStateGroup = {
    errorMessageLoadMediaProject: null,
    mediaProjects: [],
    totalPagesMediaProject: 0,
    mediaProjectUpdated: false,
    mediaProjectDeleted: false,
    mediaProjectCreated: false,
    mediaProjectFormOpened: false,
    mediaProjectFormClosed: false
}


const groupReducer = (state = initialStateGroup, action) => {
    switch(action.type) {
        //List groups
        case groupConstants.GET_LIST_GROUP_SUCCESS:
            return {
                ...state,
                mediaProjects: action.payload.mediaProjects,
                totalPagesMediaProject: action.payload.totalPagesMediaProject
            }
        case groupConstants.GET_LIST_GROUP_FAIL:
            return {
                ...state, 
                errorMessageLoadMediaProject: action.payload
            }

        //Update group
        case groupConstants.UPDATE_GROUP_SUCCESS:
            return {
                ...state,
                mediaProjectUpdated: true,
            }
        case groupConstants.UPDATE_GROUP_FAIL:
            return {
                ...state, 
                errorMessageLoadMediaProject: action.payload
            }

        //Delete group
        case groupConstants.DELETE_GROUP_REQUEST:
            return {
                ...state,
                mediaProjectDeleted: false
            }
        case groupConstants.DELETE_GROUP_SUCCESS:
            return {
                ...state,
                mediaProjectDeleted: true,
            }
        case groupConstants.DELETE_GROUP_FAIL:
            return {
                ...state, 
                errorMessageLoadMediaProject: action.payload
            }

        //Create group
        case groupConstants.CREATE_GROUP_SUCCESS:
            return {
                ...state,
                mediaProjectCreated: true,
                mediaProjectFormClosed: true
            }
        case groupConstants.CREATE_GROUP_FAIL:
            return {
                ...state,
                errorMessageLoadMediaProject: action.payload
            }
        case groupConstants.TOGGLE_FROM_GROUP:
            return {
                ...state,
                mediaProjectFormOpened: payload?.toggleOpenFormGroup ?? !state.mediaProjectFormOpened,
            };
        default:
            return state
    }
        
}

export default groupReducer;